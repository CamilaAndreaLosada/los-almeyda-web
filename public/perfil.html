<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - Los Almeyda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/animated-background.css">
</head>

<body class="bg-white min-h-screen font-inter">

    <header class="bg-white shadow-md p-4 flex justify-between items-center rounded-b-lg">
        <div class="flex-shrink-0">
            <img src="/Imagenes/logo.jpeg" alt="Logo Los Almeyda" class="h-16">
        </div>
        <nav class="flex items-center space-x-2 sm:space-x-4">
            <div class="text-center font-inter flex flex-wrap justify-center items-center space-x-2 sm:space-x-4">
                <a href="/main.html" class="nav-link">Inicio</a>
                <a href="/index.html" class="nav-link">Productos</a>
                <a href="/recetas.html" class="nav-link">Recetas</a>
                <a href="/contacto.html" class="nav-link">Contacto</a>
                <a href="/perfil.html" class="nav-link bg-pink-100 text-red-600">Perfil</a>
                <a id="admin-link" href="/dashboard.html" class="nav-link hidden">Gesti贸n</a>
                <a href="/cart.html" class="nav-link"> <span id="cart-count">0</span></a>
                <span id="user-name" class="text-red-600 font-bold"></span>
                <a id="auth-nav-link" href="/auth.html" class="nav-link">Login</a>
                <button id="logout-button" class="nav-link hidden">Cerrar Sesi贸n</button>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8">
        <h1 class="text-3xl font-bold text-center mb-8">Mi Perfil</h1>

        <!-- Informaci贸n Personal -->
        <div class="bg-white shadow-lg rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-semibold mb-4 border-b pb-2">Informaci贸n Personal</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nombre Completo *</label>
                    <input type="text" id="nombre_usuario"
                        class="w-full px-4 py-2 border-2 rounded-lg focus:border-red-500" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Correo Electr贸nico *</label>
                    <input type="email" id="email" class="w-full px-4 py-2 border-2 rounded-lg focus:border-red-500"
                        required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tel茅fono *</label>
                    <input type="tel" id="telefono" class="w-full px-4 py-2 border-2 rounded-lg focus:border-red-500"
                        placeholder="Ej: 3001234567" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Direcci贸n de entrega *</label>
                    <input type="text" id="direccion" class="w-full px-4 py-2 border-2 rounded-lg focus:border-red-500"
                        placeholder="Ej: Calle 123 #45-67" required>
                </div>
            </div>
            <button id="save-button"
                class="mt-6 bg-red-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-red-700 transition w-full md:w-auto">
                 Guardar Cambios
            </button>
        </div>

        <!-- Historial de Pedidos -->
        <div class="bg-white shadow-lg rounded-lg p-6">
            <h2 class="text-2xl font-semibold mb-4 border-b pb-2">Historial de Pedidos</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fecha</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">N煤mero de Pedido
                            </th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Estado</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total</th>
                        </tr>
                    </thead>
                    <tbody id="orders-table" class="bg-white divide-y divide-gray-200">
                        <!-- Pedidos se cargar谩n din谩micamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <script src="/js/perfil.js"></script>
    <script src="/js/cursor-interaction.js"></script>
    <script>
        // Apply nav-link styling
        document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.add('bg-transparent', 'text-red-600', 'py-2', 'px-4', 'rounded-lg', 'transition', 'duration-300', 'ease-in-out', 'transform', 'hover:scale-105', 'hover:shadow-md', 'hover:bg-gray-300', 'hover:text-black', 'inline-block');
        });

        // Update navigation based on user status
        const user = JSON.parse(localStorage.getItem('user'));
        const adminLink = document.getElementById('admin-link');
        if (user && user.rol === 'admin' && adminLink) {
            adminLink.classList.remove('hidden');
        }
    </script>
</body>

</html>